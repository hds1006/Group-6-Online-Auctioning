<html lang="en" xmlns:th="https://www.thymeleaf.org">
    <head>
        <meta charset="ISO-8859-1">
        <title>Revenue</title>
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>
        
        <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datepicker/1.9.0/js/bootstrap-datepicker.min.js"></script>
		<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
        <link th:href="@{/styles/button.css}" rel="stylesheet"/>
        <link th:href="@{/styles/landing.css}" rel="stylesheet"/>
        <link th:href="@{/styles/browse.css}" rel="stylesheet"/>
        <link th:href="@{/styles/employee_page.css}" rel="stylesheet"/>
        <!-- font import -->
        <link rel="preconnect" href="https://fonts.googleapis.com">
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link href="https://fonts.googleapis.com/css2?family=Poppins&display=swap" rel="stylesheet">
        
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
        <link rel="stylesheet" href="https://ajax.googleapis.com/ajax/libs/jqueryui/1.12.1/themes/smoothness/jquery-ui.css">
        <script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js"></script>
    </head>
    
    <body>
		<!-- HEADER BAR -->
		<div th:insert="header :: header"></div>
		<!-- END HEADER BAR -->
		
		<!-- viewing revenue -->
        <div>
            <div class="card w-100" style="height: fit-content;">
                <div class="card-body" style="padding-top: 24px;">
                    <div class="card" style="margin-left: auto; margin-right: auto;">
                        <!-- Main card for logs -->
                        <div class="card-header">
                            <h2>Revenue</h2>
                        </div>
                        <!-- Describe where revenue comes from -->
                        <div class="mx-4" style="margin-top: 1.5rem!important;">
							<p>Revenue is generated from transactions that take place on Offerly. Whenever an item is sold, there is a 10% processing fee that automatically taken from the selling price of the item. When a user lists a product for sale, the user is made aware of this.</p>
						</div>
                        <!-- display current revenue -->
                        <div class="card mx-4" style="margin-top: 1.5rem!important; margin-bottom: 1.5rem!important;">
                            <div class="card-header">
                                <h3>Current Revenue</h3>
                            </div>
                            <div class="card-body">
                                <div style="font-size: xxx-large;">
									<span style="display: inline;">$</span>
    								<span id="originalNumber" th:text="${revenue}"></span>
								</div>
                            </div>
                        </div>
                        
                        <!-- JS to add a trailing zero if the revenue change is only a single digit long -->
                        <script>
						  	const originalNumberText = document.getElementById('originalNumber').innerText;
						
						  	const numberValue = parseFloat(originalNumberText.replace(''));
						
						  	const decimalPart = numberValue - Math.floor(numberValue);
						  	const decimalStr = decimalPart.toFixed(1).split('.')[1];
						  
						  	if (decimalStr.length === 1 || decimalStr === '0') {
						    	const modifiedNumber = `${numberValue}0`;
						    	document.getElementById('originalNumber').innerText = `$${modifiedNumber}`;
						  	}
						</script>
                        
                        <!-- edit percentages for categories FUTURE
                        <div class="card mx-4" style="margin-bottom: 1.5rem!important;">
                            <div class="card-header">
                                <h3>Edit Category Percentages</h3>
                            </div>
                            <div class="card-body">
                                <p>category dropdown and percentage field</p>
                            </div>
                        </div>-->
                    </div>
                </div>
            </div>
        </div>
    </body>